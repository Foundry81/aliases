#######################################################################
# Dockerized BIND Aliases
# Maintained by Foundry81
#
# Purpose:
# - Simplify administration of BIND running in a Docker container
# - Provide safe, composable shortcuts for zone management, queries, and troubleshooting
# - Reduce typing while keeping commands readable
#
# Dependency:
# - Requires Docker and a container named 'bind' running BIND
#
# TLP Legend:
# ðŸŸ¢ Safe â€“ commands that only inspect or monitor, no impact
# ðŸŸ¡ Caution â€“ commands that enter the container shell or may show lots of info but donâ€™t directly alter state
# ðŸ”´ Dangerous â€“ commands that restart containers, reload zones, modify state, or do a zone transfer
#######################################################################

#########################
# Container Management
#########################

# Attach to the BIND container shell
alias bindsh='docker exec -it bind /bin/bash'                     # ðŸŸ¡ Caution

# View container logs in real time
alias bindlogs='docker logs -f bind'                              # ðŸŸ¢ Safe

# View last 50 lines and follow logs
alias bindlogtail='docker logs -f --tail 50 bind'                 # ðŸŸ¢ Safe

# Restart the BIND container (reload config, all zones)
alias bindrestart='docker restart bind'                           # ðŸ”´ Dangerous

#########################
# RNDC Commands (Zone Administration)
#########################

# Reload all zones
alias bindreload='docker exec -it bind rndc reload'               # ðŸ”´ Dangerous

# Reload a specific zone (replace <zone> with actual name)
alias bindreloadzone='docker exec -it bind rndc reload <zone>'    # ðŸ”´ Dangerous

# Freeze a zone for editing
alias bindfreeze='docker exec -it bind rndc freeze <zone>'        # ðŸ”´ Dangerous

# Thaw a frozen zone
alias bindthaw='docker exec -it bind rndc thaw <zone>'            # ðŸ”´ Dangerous

# Query zone statistics
alias bindstats='docker exec -it bind rndc stats'                 # ðŸŸ¢ Safe

# Dump BIND server configuration (all zones)
alias bindconf='docker exec -it bind rndc dumpdb -zones'          # ðŸŸ¢ Safe

#########################
# DNS Query / Troubleshooting
#########################

# Quick dig against the BIND container
alias binddig='docker exec -it bind dig @localhost'               # ðŸŸ¢ Safe

# Check zone SOA record
alias bindsoa='docker exec -it bind dig @localhost <zone> SOA'    # ðŸŸ¢ Safe

# Query all records for a zone (zone transfer)
alias bindaxfr='docker exec -it bind dig @localhost <zone> AXFR'  # ðŸ”´ Dangerous

#########################
# Monitoring Enhancements
#########################

# Watch BIND server status every 5 seconds
alias bindwatch='watch -n 5 "docker exec bind rndc status"'       # ðŸŸ¢ Safe
